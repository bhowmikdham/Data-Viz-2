{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "McLaren's Success at the Australian Grand Prix",
    "anchor": "start",
    "color": "#f5f5f7",
    "subtitle": "Podium finishes since 1985. Gold dots indicate a win.",
    "subtitleColor": "#a6a6ac"
  },
  "width": "container",
  "height": 250,
  "background": "transparent",
  "data": {
    "values": [
      {"Year": 1986, "Pos": 1, "Driver": "Alain Prost", "Location": "Adelaide"},
      {"Year": 1988, "Pos": 1, "Driver": "Alain Prost", "Location": "Adelaide"},
      {"Year": 1988, "Pos": 2, "Driver": "Ayrton Senna", "Location": "Adelaide"},
      {"Year": 1991, "Pos": 1, "Driver": "Ayrton Senna", "Location": "Adelaide"},
      {"Year": 1992, "Pos": 3, "Driver": "Ayrton Senna", "Location": "Adelaide"},
      {"Year": 1993, "Pos": 1, "Driver": "Ayrton Senna", "Location": "Adelaide"},
      {"Year": 1997, "Pos": 1, "Driver": "David Coulthard", "Location": "Melbourne"},
      {"Year": 1998, "Pos": 1, "Driver": "Mika Hakkinen", "Location": "Melbourne"},
      {"Year": 1998, "Pos": 2, "Driver": "David Coulthard", "Location": "Melbourne"},
      {"Year": 2000, "Pos": 2, "Driver": "Mika Hakkinen", "Location": "Melbourne"},
      {"Year": 2001, "Pos": 2, "Driver": "David Coulthard", "Location": "Melbourne"},
      {"Year": 2002, "Pos": 3, "Driver": "Kimi Raikkonen", "Location": "Melbourne"},
      {"Year": 2003, "Pos": 1, "Driver": "David Coulthard", "Location": "Melbourne"},
      {"Year": 2007, "Pos": 2, "Driver": "Lewis Hamilton", "Location": "Melbourne"},
      {"Year": 2008, "Pos": 1, "Driver": "Lewis Hamilton", "Location": "Melbourne"},
      {"Year": 2010, "Pos": 1, "Driver": "Jenson Button", "Location": "Melbourne"},
      {"Year": 2011, "Pos": 2, "Driver": "Lewis Hamilton", "Location": "Melbourne"},
      {"Year": 2012, "Pos": 1, "Driver": "Jenson Button", "Location": "Melbourne"},
      {"Year": 2012, "Pos": 3, "Driver": "Lewis Hamilton", "Location": "Melbourne"},
      {"Year": 2014, "Pos": 2, "Driver": "Kevin Magnussen", "Location": "Melbourne"},
      {"Year": 2014, "Pos": 3, "Driver": "Jenson Button", "Location": "Melbourne"},
      {"Year": 2024, "Pos": 3, "Driver": "Lando Norris", "Location": "Melbourne"}
    ]
  },
  "layer": [
    {
      "mark": {
        "type": "rect",
        "opacity": 0.1,
        "stroke": "#444",
        "strokeDash": [2,2]
      },
      "data": {
        "values": [
          {"start": 1985, "end": 1995, "Era": "Adelaide"},
          {"start": 1996, "end": 2025, "Era": "Melbourne"}
        ]
      },
      "encoding": {
        "x": {"field": "start", "type": "quantitative"},
        "x2": {"field": "end"},
        "color": {"field": "Era", "type": "nominal", "legend": null, "scale": {"range": ["#333", "#222"]}}
      }
    },
    {
      "mark": {
        "type": "text",
        "yOffset": -110,
        "fontSize": 14,
        "fontStyle": "italic",
        "color": "#a6a6ac"
      },
      "data": {
        "values": [
          {"Year": 1990, "Era": "Adelaide Era"},
          {"Year": 2010, "Era": "Melbourne Era"}
        ]
      },
      "encoding": {
        "x": {"field": "Year", "type": "quantitative"},
        "text": {"field": "Era"}
      }
    },
    {
      "mark": {
        "type": "circle",
        "size": 100,
        "filled": true
      },
      "encoding": {
        "x": {"field": "Year", "type": "quantitative", "axis": {"title":"Year","format": "d", "labelAngle": 0, "grid": false}, "scale": {"domainMin": 1985, "domainMax": 2026, "nice": false,"zero": false}},
        "y": {"field": "Pos", "type": "ordinal", "axis": {"title": "Podium Position", "labelExpr": "{'1': '1st', '2': '2nd', '3': '3rd'}[datum.value]"}},
        "color": {
          "condition": [{"test": "datum.Pos == 1", "value": "#FFD700"}, {"test": "datum.Pos == 2", "value": "#C0C0C0"}],
          "value": "#cd7f32"
        },
        "tooltip": [
          {"field": "Year"},
          {"field": "Driver"},
          {"field": "Pos", "title": "Position"}
        ]
      }
    }
  ],
  "config": {
    "view": {"stroke": null},
    "axis": {"gridColor": "#1f1f22", "titleColor": "#d9d9db", "labelColor": "#d9d9db"}
  }
}
