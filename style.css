/* =========================================================
   McLAREN F1 THEME â€” style.css
   NOTE: Add this to your HTML <head>:
   <link href="https://fonts.googleapis.com/css2?family=Barlow+Condensed:wght@700;800&family=Inter:wght@400;600&family=Roboto+Condensed:wght@500;700&display=swap" rel="stylesheet">
   ========================================================= */

/* =============================
   THEME TOKENS (one place)
   ============================= */
:root{
  /* Fonts */
  --font-heading: "Barlow Condensed", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --font-body:    "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --font-compact: "Roboto Condensed", var(--font-body);

  /* Colors */
  --bg:     #0b0b0c;   /* asphalt */
  --ink:    #e8e8ea;   /* primary text */
  --muted:  #a6a6ac;   /* secondary text */
  --accent: #ff3b3b;   /* F1 red accent */
  --grid:   #1f1f22;   /* separators / borders */

  /* Chart swatches */
  --papaya: #ff7a00;   /* current drivers */
  --f1red:  #c2282f;   /* default bars */

  /* Layout */
  --panel: transparent;
  --maxw:  1100px;
  --gap:   24px;
}

/* =============================
   BASE / LAYOUT / TYPE
   ============================= */
*{ box-sizing: border-box; }
html,body{ height:100%; }
body.site{
  margin:0; background:var(--bg); color:var(--ink);
  font: 16px/1.55 var(--font-body);
}
.container{ max-width:var(--maxw); margin:0 auto; padding:0 20px; }

.site__header{ padding: calc(var(--gap) * 1.5) 0 var(--gap); }
.header__bar{ display:flex; align-items:center; justify-content:space-between; gap:16px; }

.title{ margin:0; font-family:var(--font-heading); font-weight:800; letter-spacing:.02em; }
.title--xl{ font-size: clamp(28px, 4vw, 40px); text-transform: uppercase; letter-spacing:.06em; }
.title--md{ font-size: clamp(18px, 2.2vw, 24px); font-family:var(--font-heading); text-transform: uppercase; letter-spacing:.08em; font-weight:700; margin-bottom:6px; }

.subtitle{ margin:6px 0 0; color:var(--muted); font-size:14px; }

.site__content{ padding: 0 0 calc(var(--gap) * 2); }
.section{ padding: calc(var(--gap) * 1.25) 0; }
.section__title{ margin-bottom:4px; }
.section__lead{ margin:0 0 12px; color:var(--muted); font-size:14px; }

.caption{ margin:10px 0 0; color:var(--muted); font-size:13px; }

/* =============================
   BRAND (logo)
   ============================= */
.brand{ display:inline-flex; align-items:center; }
.brand img{
  height:63px; width:auto; display:block;
  filter: drop-shadow(0 0 2px rgba(255,255,255,0.12));
}
@media (max-width: 640px){ .brand img{ height:32px; } }

/* =============================
   CONTROLS (filters/menus)
   ============================= */
.controls{ margin:8px 0 12px; }
.controls--inline{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }

.controls label, .vega-bindings label{
  color: var(--accent);
  font-size: 13px;
  letter-spacing: .08em;
  text-transform: uppercase;
  font-weight: 600;
}

.controls select, .vega-bindings select{
  background:#121214; color:var(--ink);
  border:1px solid var(--grid);
  border-radius:10px; padding:8px 12px;
  appearance:none; outline:none; font:inherit; cursor:pointer;
  /* custom arrow */
  background-image:
    linear-gradient(45deg, transparent 50%, #a6a6ac 50%),
    linear-gradient(135deg, #a6a6ac 50%, transparent 50%);
  background-position:
    calc(100% - 18px) calc(50% - 3px),
    calc(100% - 12px) calc(50% - 3px);
  background-size:6px 6px, 6px 6px;
  background-repeat:no-repeat;
  padding-right:36px;
}
.controls select:hover{ border-color:#2a2a2e; }
.controls select:focus{ border-color: var(--accent); box-shadow:0 0 0 3px rgba(255,59,59,0.15); }

@media (max-width:640px){
  .controls--inline{ flex-wrap:wrap; gap:8px; }
}

/* =============================
   LEGEND (HTML)
   ============================= */
.legend{
  display:flex; align-items:center; gap:14px;
  margin:6px 0 10px; flex-wrap:wrap;
}
.legend__item{
  display:inline-flex; align-items:center; gap:8px;
  color:var(--muted); font-size:13px;
}
.legend__swatch{
  width:14px; height:14px; border-radius:3px;
  box-shadow:0 0 0 1px rgba(255,255,255,0.05);
}
.legend__swatch--current{ background:var(--papaya); }
.legend__swatch--former{  background:var(--f1red);  }

/* =============================
   VIZ CONTAINERS (no frames)
   ============================= */
.viz{ background:transparent; border:none; padding:0; }
.viz--full{ width:100%; min-height:520px; }

.vega-embed{ background:transparent; border:none; padding:0; }
.vega-embed .vega-actions{ display:none; }

/* Compact numerics for axes/legends */
.vega-embed .mark-text,
.vega-embed .role-axis-label,
.vega-embed .role-legend-label{
  font-family: var(--font-compact);
  font-feature-settings: "tnum" 1, "lnum" 1; /* tabular, lining numerals */
}

/* =============================
   VEGA TOOLTIP (global theme)
   ============================= */
.vg-tooltip{
  background:#111114 !important; color:#e6e6e8 !important;
  border:1px solid var(--grid) !important; border-radius:10px !important;
  box-shadow:0 8px 24px rgba(0,0,0,.4) !important;
  font-family: var(--font-compact) !important; font-size:13px !important;
  padding:8px 10px !important;
}
.vg-tooltip table{ border-collapse: collapse !important; }
.vg-tooltip .key{
  color: var(--muted) !important; padding-right:10px !important;
  white-space:nowrap !important; letter-spacing:.02em !important;
}
.vg-tooltip .value{
  text-align:right !important; font-variant-numeric: tabular-nums !important;
  white-space:normal !important; max-width:260px !important;
}
.vg-tooltip td{ padding:2px 0 !important; }

/* =============================
   UTILITIES & RESPONSIVE
   ============================= */
#driver-wins-section { padding-top: 8px; }
.u-accent{ color: var(--accent); }
@media (max-width:640px){ .container{ padding:0 16px; } }

/* =============================
   OPTIONAL ACCESSIBILITY/PRINT
   ============================= */
:focus-visible{ outline:2px solid var(--papaya); outline-offset:2px; }
@media print{
  body{ background:#fff; color:#000; }
  .viz, .vega-embed{ background:#fff; }
  .legend__item{ color:#000; }
}



/* Top list styles (fits your dark theme) */
.toplist { list-style: none; padding: 0; margin: 0; }
.toplist li {
  display: flex; align-items: center; justify-content: space-between;
  background: var(--card); border-radius: 12px; padding: 8px 10px; margin: 8px 0;
  box-shadow: 0 2px 10px rgba(0,0,0,.25);
}
.toplist .meta { display: flex; align-items: center; gap: 10px; min-width: 0; }
.toplist .rank {
  width: 28px; height: 28px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center;
  font-weight: 800; background: rgba(255,255,255,.08);
}
.toplist .flag { width: 24px; height: 18px; object-fit: cover; border-radius: 2px; box-shadow: 0 0 0 1px rgba(255,255,255,.1); }
.toplist .name { font-weight: 700; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.toplist .value { font-variant-numeric: tabular-nums; font-weight: 800; }




/* =============================
   NEW LAYOUT & TOP LIST
   ============================= */

/* 2-Column Grid for Map & List */
.layout-grid {
  display: grid;
  grid-template-columns: 1fr 300px; /* Main content and a 300px sidebar */
  gap: var(--gap);
  align-items: flex-start;
}

.viz--map {
  width: 100%;
  min-height: 540px;
}

/* List container and title */
.toplist-container {
  background: #121214;
  border: 1px solid var(--grid);
  border-radius: 12px;
  padding: 16px;
}

.title--sm {
  font-size: 16px;
  font-family: var(--font-heading);
  text-transform: uppercase;
  letter-spacing: .08em;
  font-weight: 700;
  margin-bottom: 12px;
  color: var(--muted);
}

/* The list itself */
.toplist {
  list-style: none;
  padding: 0;
  margin: 0;
  font-family: var(--font-compact);
}

.toplist li {
  display: grid;
  grid-template-columns: auto auto 1fr auto;
  align-items: center;
  gap: 12px;
  padding: 8px 0;
  font-size: 14px;
  border-bottom: 1px solid var(--grid);
}

.toplist li:last-child {
  border-bottom: none;
}

.toplist .rank {
  color: var(--muted);
  font-weight: 600;
  font-size: 13px;
}

.toplist .flag {
  width: 28px;
  height: auto;
  border-radius: 3px;
  box-shadow: 0 0 0 1px rgba(255,255,255,.1);
}

.toplist .name {
  font-weight: 600;
  color: var(--ink);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.toplist .value {
  font-variant-numeric: tabular-nums;
  font-weight: 700;
  font-size: 15px;
  color: var(--ink);
  background: rgba(255,255,255,.08);
  padding: 2px 8px;
  border-radius: 6px;
}

/* Responsive: Stack on smaller screens */
@media (max-width: 900px) {
  .layout-grid {
    grid-template-columns: 1fr; /* Single column */
  }
}




